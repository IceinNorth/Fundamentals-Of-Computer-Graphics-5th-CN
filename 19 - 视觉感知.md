# 19 - 视觉感知
计算机图形学的最终目的是产生供人们观看的图像。因此，计算机图形系统的成功取决于它向人类观察者传达相关信息的能力。
物理世界的内在复杂性和显示设备的局限性使得它不可能呈现给观看者在观看自然环境时出现的相同的光模式。当计算机图形系统的目标是物理真实感时，我们所能期望的最好结果是系统在感知上是有效的：显示的图像应该“看起来”像预期的那样。
对于诸如技术插图（技术路线图、机械分解结构之类的）之类的应用，通常希望在视觉上突出相关信息，并且感知有效性成为明确的要求。

艺术家和插图师根据经验开发了广泛的工具和技术，以有效地传达视觉信息。提高计算机图形学感知有效性的一种方法是在我们的自动化系统中使用这些方法。
第二种方法通过在计算机图形学系统设计中使用感知有效性作为优化标准，直接建立在人类视觉系统的知识之上。
这两种方法并不完全不同。事实上，在 Leonardo da Vinci 的笔记本中发现了其中一个最早的视觉感知系统。
## 19.1 视觉科学
视觉通常被认为是人类中最强大的感官。视觉产生的关于世界的有用信息比听力、触摸、气味或味道更有用。这是光物理的直接结果。
照明无处不在，尤其是在白天，然而在夜间也有光源，例如，于月光、星光和人工光源。表面反射了很大一部分入射照明（以特定于材料的方式反射），并且取决于表面的形状。光（大部分）在空气中直线传播的事实允许视觉从远处的位置获取信息。

视觉的研究有着悠久而丰富的历史。我们对于眼科学所知的知识可以追溯到1600年代哲学家和物理学家的工作。
从 1800 年代中期开始，知觉心理学家探索视觉现象学并提出视觉可能的工作模型，这些科学家的工作爆炸式增长。
1900s 中叶我们看到了现代神经科学的开始，它调查了单个神经元的精细工作以及大脑和神经系统的大规模架构组织。神经科学研究的很大一部分集中在视觉上。
最近，计算机科学通过提供精确描述视觉计算的工具以及允许对计算机视觉程序进行实证检查，从而为我们更好的理解视觉感知助力。
视觉科学涉及知觉心理学、神经科学和计算分析的视觉感知的多学科研究。

视觉科学将视觉的目的视为从光成像图像的花纹上产生关于物体、位置以及事件的信息。心理学家使用远端刺激一词来指代观察之下的物理世界，用近端刺激指代在视网膜上形成的图像。
使用这个术语，视觉的功能是在给定近端刺激的情况下生成对于远端刺激的描述。当产生准确反映现实世界的描述时，称视觉感知使具有真实性的。
在实践中，孤立地考虑对象、位置和事件的这些描述是没有意义的。相反，视觉在它所服务的运动和认知功能的背景下才更好地理解。
## 19.2 视觉敏感度
视觉系统根据入射照明的特性创建对环境的描述。因此，了解人类视觉系统可以实际检测到哪些入射照明的特性是很重要的。
关于人类视觉系统的一个重要观察是，它主要是对光的模式敏感，而不是对光能量的绝对大小敏感。眼睛不像光度计那样工作。相反，视觉系统在视网膜的成像上检测空间、时间和光谱的模式，这些信息构成了所有视觉感知的基础。

视觉系统对光照随时间和空间变化的敏感性具有明显的生态效用。能够准确感知环境的变化对我们的生存至关重要。测量光能变化而不是能量的绝对大小在工程上也是有意义的，因为它可以更容易地在大范围的光强范围内检测光的模式。
对于计算机图形学来说，视觉以这种方式运作是一件好事。在物理上，显示设备投射光线的能力受到自然场景典型的功率和动态范围的限制。如果图形显示需要产生与相应的物理世界相同的光模式，那么图形显示设备将无法那样工作。幸运的是，所需要的只是显示器能够产生与现实世界相似的空间和时间变化模式。
### 19.2.1 亮度和对比度
在明亮的光线下，人类视觉系统能够区分由高对比度平行亮条和暗条组成的光栅，精细到50-60周期/度（在这种情况下，一个“周期”由一对相邻的亮条和暗条组成）。相比之下，目前最好的液晶电脑显示器，在正常的观看距离下，可以显示精细到约20周期/度的图案。
在明亮的光线下，人类视觉系统在边缘处可检测到的最小对比度差约为该边缘平均亮度的1%。
在大多数8位显示器中，由于从灰度级到实际显示亮度的映射性质，单个灰度级的差异通常在至少一部分显示器强度范围内是明显的。
![](pic/Pasted%20image%2020240412102824.png)
描述视觉系统检测精细花纹（视觉灵敏度）和亮度变化的能力，比摄像机和类似的图像采集器要更加复杂。人类视觉的对比度和敏锐度是相互作用的。
在上图中，图案的比例从左到右递减，而对比度从上到下递增。如果你在一个正常的观看距离看这个图，就会很清楚，一个图案可见的最低对比度是图案空间频率的函数。

从世界上某一表面点到达人眼的光强L与照射该表面点的光强I以及被观察点处表面的反射率R之间存在线性关系：
$$L=\alpha  I\cdot R$$
其中，alpha取决于表面几何形状、入射照明图案和观察方向之间的关系。虽然眼睛只能直接测量L，但人眼在估计R值这方面要比L要好得多。
![](pic/Pasted%20image%2020240412104208.png)
要看到这一点，请在明亮的直射光下查看图19.3。用你的手遮住其中一个图案，让另一个图案直接照亮。虽然两种图案反射的光会有很大的不同，但两个中心正方形的表观亮度似乎几乎相同。
术语“亮度”通常用来描述表面的外观亮度，与其实际亮度不同。在许多情况下，亮度在巨大照明比变化下是不变的，这种现象称为亮度恒定。
![](pic/Pasted%20image%2020240412105019.png)
人类视觉系统实现亮度恒定的机制还不是很清楚。如图19.2所示，视觉系统对缓慢变化的光线模式相对不敏感，这可能有助于忽略缓慢变化的照明的影响。外观亮度受周围区域亮度的影响(图19.4)。
![](pic/Pasted%20image%2020240412110609.png)
当区域被不同地照亮时，这可以帮助亮度恒定。虽然这种同时的对比效果通常被描述为对我们认知的光照亮度的修改，该物体的附近区域存在富有对比的照明，但是这种现象实际上比我们想象中更加复杂。
> Simultaneous Contrast：同时对比，几个刺激物同时作用于同一感受器产生的对比现象。

![](pic/Pasted%20image%2020240412110621.png)
虽然视觉系统在很大程度上忽略了缓慢变化的亮度模式，但它对亮度不连续的线条组成的边缘极其敏感。图像的边缘通常对应于表面边界或环境中的其他重要的图像特征。
视觉系统还可以检测运动、立体视差、纹理和其他几个方面的局部图像差异。 然而，视觉系统检测色彩中的空间不连续（当没有这些其他属性之一的差异时）的能力非常有限。
![](pic/Pasted%20image%2020240412110722.png)
对边缘的感知似乎与对形式的感知相互作用。虽然边缘给视觉系统提供了识别形状所需的信息，但如果产生的边缘形成了更完整的形状，则缓慢变化的亮度会显示为锐边（图19.8）。
![](pic/Pasted%20image%2020240412111635.png)
图19.9显示了主观轮廓，这是这种效果的一种极端形式，在这种情况下，即使实际图像中没有这样的轮廓，也能看到一个闭合的轮廓。
最后，视觉系统对边缘的敏感性似乎也是光感知机制的一部分。注意到，图19.9中主观轮廓包围的区域比页面周围的区域要亮一些。
![](pic/Pasted%20image%2020240412111824.png)
图19.10显示了边缘和亮度之间的一种不同的交互作用。在这种情况下，边缘处的特定亮度分布对边缘任一侧的表面的外观亮度都具有显著的影响。

如上所述，如果差异至少为平均亮度的 1%，人们可以检测到两个相邻区域之间亮度的差异。这是韦伯定律的一个实例，他指出：在正好可以注意到的差异（jnd）的刺激与刺激的大小之间存在一个常数比例：
$$\frac{\triangle I}{I}=k_1$$
其中 I 是刺激的大小，ΔI 是正好可以注意到的差异（jnd）的大小，k1 是与特定刺激相关的常数。
Weber 定律提出于 1846 年，并且仍然是许多感知效应的有用表征。
Fechner定律，在1860中提出，是韦伯定律的推广，它允许描述任何感官体验的强度，而不仅仅是jnd：
$$S=k_2\,\log{I}$$
其中 S 是感官体验的感知强度，I 是相应刺激的物理幅度，k2 是特定于刺激的缩放常数。

现在的做法是使用幂函数（Stevens 定律）对刺激的感知和实际强度之间的关联进行建模：
$$S=k_3\,I^b$$
其中S和I和之前一样，k3是另一个缩放常数，b是特定于刺激的指数。对于大量涉及视觉的感知量，b < 1。
在其他地方描述的CIE L∗a∗b∗色彩空间，使用修改的Stevens 定律来表征亮度值之间的感知差异。注意到，在表征刺激的感知强度的前两个表达式以及b小于1的Stevens 定律中，当刺激的平均幅度较小时，刺激的变化产生的感知效应要大于当刺激的平均幅度较大时相同的物理变化产生的感知效应。

上面描述的“定律”并不是对感知如何运作的物理约束。相反，它们是关于感知系统如何对特定的物理刺激作出反应的概括。
在知觉心理学领域，对物理刺激与其知觉效应之间关系的定量研究被称为心理物理学。虽然心理物理定律是由经验得出的观察结果，而非对其机理的解释。但如此多的感知效应可以通过简单的幂函数很好地建模，这一事实令人震惊，并可能为所涉及的机制提供见解。
### 19.2.2 色彩
1666年，牛顿用三角棱镜证明了白色的阳光可以分解成一系列颜色，这些颜色可以重新组合，产生白色的光。
我们现在知道光能是光子的集合，每个光子都有一个特定的波长。光谱分布是光在每个波长上平均能量的量度。
对于自然照明，表面反射光的光谱分布根据表面材料的不同而变化很大。因此，这种光谱分布的特征可以为环境中表面的性质提供视觉信息。
![](pic/Pasted%20image%2020240422094250.png)
大多数人在看世界时都有一种普遍的色彩感。颜色感知取决于光的频率分布，人类的可见光谱波长从约370 nm到约730 nm。
1801年，人们首次系统地研究了人类的视觉系统从光谱分布中获得色彩感的原理，150年来一直存在极大的争议。问题是，视觉系统对光谱分布模式的反应与亮度分布模式的反应非常不同。

即使考虑到亮度恒定等现象，明显不同的空间分布几乎总是看起来明显不同。更重要的是，考虑到视觉系统的目的是根据近端刺激产生对远端刺激的描述，感知到的亮度模式至少近似地对应于环境中表面的亮度模式。（？？？）

对颜色的感知并非如此。许多不同的光谱分布可以产生出任何特定色彩的感知。相应地，“表面是xx颜色的”，这样只提供了非常少的关于光谱（从表面发射的光）的直接信息。
例如，由波长为700纳米和540纳米的光组合组成的光谱分布，在适当选择的相对强度下，看起来与580纳米的单一波长的光无法区分。（在感知上难以区分的不同光谱组成的颜色被称为条件等色）
> Metamers：条件等色、异谱同色。

如果我们看到“黄色”，我们无法知道它是由单色光构成的，还是由多种混色光的光谱叠加形成。因此，在视觉的语境中，颜色一词指的是一种纯粹的感知性质，而非一种物理属性。
![](pic/Pasted%20image%2020240422094751.png)
在人的视网膜上有两类感光细胞。视锥细胞（Cones）参与颜色感知，而视杆细胞（rods）对可见光范围内的光能量敏感，而不提供有关颜色的信息。
视锥细胞有三种类型，每一种细胞都有不同的光谱灵敏度。
s锥细胞对可见光谱蓝色范围内的短波有反应。m锥细胞对可见光谱的中间(绿色)区域的波长作出反应。l锥对覆盖可见光谱中绿色和红色部分的较长的波长作出反应。

虽然通常将三种视锥细胞描述为红色、绿色和蓝色，然而它既不是正确的术语，也不能准确反映上图中的视锥细胞灵敏度。
l -锥细胞和m -锥细胞是广泛调谐的，这意味着它们对广泛的频率范围做出反应。三种锥体类型的灵敏度曲线之间也存在大量重叠。
综上所述，这两个性质意味着不可能根据三种锥型的响应值来重建原始光谱分布的近似。这与视网膜(和数码相机)的空间采样相反，在那里，感受器在空间灵敏度上分布得很狭窄，以便能够在局部对比度中检测到精细的细节。

人类视网膜中只有三种对颜色敏感的光感受器，这一事实大大简化了在计算机显示器和其他图形显示器上显示颜色的任务。计算机显示器将颜色显示为三种固定颜色分布的加权组合。
在计算机图形学中，颜色通常由红-绿-蓝(RGB)三重表示，表示显示特定颜色所需的红、绿和蓝三原色的强度。三种基色足以显示大多数可感知的颜色，因为三种适当选择的颜色的适当加权组合可以产生这些可感知颜色的条件等色。

RGB颜色表示至少有两个重要的问题：
首先，不同的显示器具有不同的红、绿、蓝三原色光谱分布（例如P3空间和RGB空间）。因此，感知上正确的色彩再现涉及到为每个显示器重新映射RGB值。当然，这只有在原始RGB值满足某些定义良好的标准时才有可能，而通常情况并非如此。
第二个问题是，RGB值没有以一种与主观感知相对应的方式定义特定的颜色。当我们看到“黄色”时，我们并没有感觉到它是由等量的红光和绿光组成的。相反，它看起来像一种单一的颜色，具有额外的属性，这些属性包括亮度和颜色的“数量”多少。将颜色表示为s - 视锥、m - 视锥和l - 视锥的输出也没有帮助，因为我们对这些属性的现象学意义并不比我们对RGB显示属性的现象学意义更重要（？？？）。

有两种不同的方法来描绘颜色，以更接近地反映人类感知的方式。各种CIE色彩空间的目标正是“感知上的一致”，以便两种颜色的表示值的差异与感知到的颜色差异成正比。事实证明，这是一个难以实现的目标，多年来对CIE模型进行了多次修改。
此外，虽然CIE色彩空间的一个维度对应于感知亮度，但指定色度的其他两个维度没有直观的意义（X 和 Z）。

以一种更自然的方式来描述颜色的第二种方法来源于经验法则：观察到有三种不同的、独立的特性主导着主观的色彩感觉。
1. 亮度（Lightness），即表面的外观亮度（Brightness）。
2. 饱和度指的是一种颜色的纯度或鲜艳度。颜色的范围可以从完全不饱和的灰色到部分饱和的粉彩再到完全饱和的“纯”色。
3. 第三个属性——色相，与“颜色”一词的非正式含义最为接近，其特征与可见光谱中的颜色相似，范围从深紫色到深红色。

![](pic/Pasted%20image%2020240422103125.png)
上图显示了色调-饱和度-明度(HSV)色彩空间的图。由于亮度（Lightness）和亮度（Brightness）之间的关系既复杂又不容易理解，所以HSV色彩空间几乎总是使用亮度（Brightness）而非亮度（Lightness）。
然而，与光谱中的波长不同，色相通常以一种反映可见光谱的极端实际上在外观上相似的事实的方式表示。（我的理解是：色相是一个环，从红色出发最后回到红色，这里的极端情况指色相0.0和色相1.0实际上是同一个颜色）
在特定颜色值的RGB和HSV表示之间存在简单的转换。因此，虽然HSV色彩空间是由视觉感知驱动的，但它并不比RGB表示包含更多的信息。

描述颜色的色调-饱和度-明度（HSV）方法基于单点的光谱分布，因此只能近似地对光在空间上分布的光谱分布的感知响应（？？？）。色彩感知受制于与亮度/亮度相似的恒常性和同时的对比度效果。这两者都不能在RGB表示中捕获，因此不能在HSV表示中捕获。
举一个颜色恒常性的例子，看一张白纸在室内白炽灯下和室外阳光直射下。在这两种情况下，纸张看起来都是“白色的”，尽管白炽灯有明显的黄色色调，因此纸张反射的光也会有黄色的色调，而太阳光的光谱要均匀得多。

CIE色彩空间或HSV编码都没有捕捉到的另一个色彩感知方面是，当我们观察可见光的连续光谱时或在自然发生的彩虹中，我们会看到少量不同的颜色。对大多数人来说，可见光谱似乎分为四到六种不同的颜色:红、黄、绿、蓝，还有可能是浅蓝色和紫色。考虑到非光谱颜色，英语中常用的基本颜色术语只有11个:红、绿、蓝、黄、黑、白、灰、橙、紫、棕和粉。将光谱分布的内在连续空间划分为相对较小的一组与定义良好的语言术语相关的感知类别似乎是感知的基本属性，而不仅仅是文化产物。然而，这一过程的确切性质尚不清楚。
### 19.2.3 动态范围
### 19.2.4 视场与灵敏度
### 19.2.5 运动
## 19.3 空间视觉
## 19.4 物体、位置和事件
## 19.5 图片感知